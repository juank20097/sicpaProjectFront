<div class="container col-md-6">
  <div class="card">
    <div class="card-header">
      <h3>Add Departments / Employees</h3>
    </div>
    <div class="card-body">
      <form action="">
        <div class="form-group">
          <label for="">Department:</label>
          <select [disabled]="Disable()" [compareWith]="CompareDeparment" class="form-select" [(ngModel)]="deparEmployee.department" name="departments">
            <option *ngFor="let d of departments" [ngValue]="d" selected>{{d.name}}</option>
          </select>
          <label for="">Employee:</label>
          <select [disabled]="!Disable()" [compareWith]="CompareEmployee" class="form-select" [(ngModel)]="deparEmployee.employee" name="employees">
            <option *ngFor="let e of employees" [ngValue]="e" selected>{{e.name}}</option>
          </select>
        </div>
        <button (click)="Save()" class="btn btn-success" style="margin-top: 10px;">Add</button>
      </form>
    </div>
  </div>
</div>

<div class="container" style="margin-top: 30px;">
  <div class="card">
    <div class="card-header">
      <h3>Departments and Employees Relation</h3>
    </div>
    <div class="card-body">
      <table class="table table-hover">
        <thead>
          <tr>
            <th>Department</th>
            <th>Employee</th>
            <th>Position</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let depar of deparEmployees" class="text-center">
            <td>{{depar.department.name}}</td>
            <td>{{depar.employee.name}}</td>
            <td>{{depar.employee.position}}</td>
            <td>
              <button
              type="button"
              style="margin-left: 10px"
              class="btn btn-danger"
              data-bs-toggle="modal"
              data-bs-target="#exampleModal"
            >
              Change Status
            </button>

            <!-- Modal -->
            <div
              class="modal fade"
              id="exampleModal"
              tabindex="-1"
              aria-labelledby="exampleModalLabel"
              aria-hidden="true"
            >
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">
                      Confirmation
                    </h5>
                    <button
                      type="button"
                      class="btn-close"
                      data-bs-dismiss="modal"
                      aria-label="Close"
                    ></button>
                  </div>
                  <div class="modal-body">Do you want to change status?</div>
                  <div class="modal-footer">
                    <button
                      type="button"
                      class="btn btn-secondary"
                      data-bs-dismiss="modal"
                    >
                      Close
                    </button>
                    <button
                      (click)="Change(depar)"
                      type="button"
                      data-bs-dismiss="modal"
                      class="btn btn-primary"
                    >
                      Yes
                    </button>
                  </div>
                </div>
              </div>
            </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
